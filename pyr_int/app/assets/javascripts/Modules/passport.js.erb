'use strict';
var pyramidApp = angular.module('pyramidApp', ['ngAnimate',
    'ngCookies',
    'ngResource',
    'ngRoute',
    'ngSanitize',
    'ngTouch']);
pyramidApp.config(['$routeProvider', '$locationProvider',function ($routeProvider, $locationProvider) {
		  $locationProvider.html5Mode(true);
		  $routeProvider
		    .when('/templates',
		      { templateUrl: "<%= asset_path('templates.html') %>",
		        controller: "TemplatesCtrl" })
		    .when('/connections',
		      { templateUrl: "<%= asset_path('connections.html') %>",
		        controller: "ConnectionsCtrl" })
		    .when('/tasks',
		      { templateUrl: "<%= asset_path('tasks.html') %>",
		        controller: "TasksCtrl" })
		    .otherwise({ redirectTo: '/' });
	}]);
pyramidApp.factory('Connections', ['$resource', function($resource) {
  return $resource('/ssh_connections/:id.json', null, {
  });
}]);
pyramidApp.factory('Templates', ['$resource', function($resource) {
  return $resource('/templates/:id.json', null, {
  });
}]);
pyramidApp.factory('SshCon', ['$resource', function($resource) {
  return $resource('/ssh_actions/:name/:password');
}]);
pyramidApp.factory('GetInf', ['$resource', function($resource) {
  return $resource('/getinf/:name/:password/:command');
}]);
pyramidApp.factory('GetOutputs', ['$resource', function($resource) {
  return $resource('/getOutputs/:name/:password/:task_name');
}]);
// pyramidApp.factory('RunCommand', ['$resource', function($resource) {
//   return $resource('/run_command/:name/:type_dell');
// }]);
